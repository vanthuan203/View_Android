{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/KT2/OneDrive/Documents/Buffh/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/KT2/OneDrive/Documents/Buffh/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/KT2/OneDrive/Documents/Buffh/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/KT2/OneDrive/Documents/Buffh/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useDispatch}from'react-redux';import{actions}from'../../redux/AccountRedux';import'bootstrap/dist/css/bootstrap.min.css';import{Modal,Input}from\"reactstrap\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var EditModal=function EditModal(_ref){var item=_ref.item;console.log(\"------item------\",item);var dispatch=useDispatch();var API_URL=process.env.REACT_APP_API_URL;var _useState=useState('Buffh'),_useState2=_slicedToArray(_useState,2),vpsoption=_useState2[0],setvpsoption=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),vpsreset=_useState4[0],setvpsreset=_useState4[1];var _useState5=useState(item.threads),_useState6=_slicedToArray(_useState5,2),threads=_useState6[0],setthreads=_useState6[1];function resetrunningacc(_x){return _resetrunningacc.apply(this,arguments);}function _resetrunningacc(){_resetrunningacc=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(vps){var requestUrl,response,responseJson,status;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:requestUrl=API_URL+'vps/resetrunningaccbyvps?vps='+vps;_context.next=3;return fetch(requestUrl,{method:'get',headers:new Headers({'Authorization':'1','Content-Type':'application/x-www-form-urlencoded'})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJson=_context.sent;status=responseJson.status;return _context.abrupt(\"return\",status);case 9:case\"end\":return _context.stop();}}},_callee);}));return _resetrunningacc.apply(this,arguments);}var dismissModal=function dismissModal(){dispatch(actions.clearCurrentAccount());};var updateUser=function updateUser(){if(vpsreset==2){resetrunningacc(item.vps.trim());}dispatch(actions.requestUpdate(_objectSpread(_objectSpread({},item),{},{vpsoption:vpsoption,threads:threads,vpsreset:vpsreset})));};var handleChange=function handleChange(e){setthreads(parseInt(e.target.value));};return/*#__PURE__*/_jsx(Modal,{isOpen:true,modalTransition:{timeout:500},children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontWeight:'bold',fontFamily:'monospace'},className:\"modal-title\",children:[\"Update cho VPS IP:  \",item===null||item===void 0?void 0:item.vps]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-icon btn-sm btn-active-light-primary ms-2\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{className:\"svg-icon svg-icon-2x\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold'},children:\"Nh\\u1EADp s\\u1ED1 lu\\u1ED3ng\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-5\",children:[/*#__PURE__*/_jsx(\"input\",{style:{fontWeight:'bold'},value:threads,onChange:handleChange,type:\"number\",className:\"form-control\",placeholder:\"Nh\\u1EADp s\\u1ED1 point cho user\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon2\",children:\"thread\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold'},children:\"Ch\\u1ECDn Option\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group mb-5\",children:/*#__PURE__*/_jsxs(Input,{onChange:function onChange(e){return setvpsoption(e.target.value);},className:\"form-control form-control-solid\",type:\"select\",style:{fontWeight:'bold'},value:vpsoption,children:[/*#__PURE__*/_jsx(\"option\",{value:'Buffh',children:\"Buffh\"},1),/*#__PURE__*/_jsx(\"option\",{value:'Test1',children:\"Test1\"},2),/*#__PURE__*/_jsx(\"option\",{value:'Test2',children:\"Test2\"},3),/*#__PURE__*/_jsx(\"option\",{value:'Pending',children:\"Pending\"},0)]})}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold'},children:\"C\\xF3 Restart VPS?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group mb-5\",children:/*#__PURE__*/_jsxs(Input,{onChange:function onChange(e){return setvpsreset(parseInt(e.target.value));},className:\"form-control form-control-solid\",type:\"select\",style:{fontWeight:'bold'},value:vpsreset,children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"Không\"},1),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Restart\"},1),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"Restart & DelAcc\"},1)]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:dismissModal,className:\"btn btn-light\",children:\"Tho\\xE1t\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:updateUser,style:{backgroundColor:\"#26695c\",color:\"white\"},className:\"btn \",children:\"L\\u01B0u\"})]})]})});};export default EditModal;","map":{"version":3,"names":["React","useState","useDispatch","actions","Modal","Input","EditModal","item","console","log","dispatch","API_URL","process","env","REACT_APP_API_URL","vpsoption","setvpsoption","vpsreset","setvpsreset","threads","setthreads","resetrunningacc","vps","requestUrl","fetch","method","headers","Headers","response","json","responseJson","status","dismissModal","clearCurrentAccount","updateUser","trim","requestUpdate","handleChange","e","parseInt","target","value","timeout","fontWeight","fontFamily","backgroundColor","color"],"sources":["C:/Users/KT2/OneDrive/Documents/Buffh/ssc.fe.cheatview-main/src/app/modules/accounts/modals/EditModal/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { KTSVG, toAbsoluteUrl } from '_metronic/helpers'\nimport { AccountModel } from 'app/modules/accounts/models/Account'\nimport { useDispatch } from 'react-redux'\nimport { actions } from '../../redux/AccountRedux'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n    Button, Modal, ModalFooter,\n    ModalHeader, ModalBody, Input\n} from \"reactstrap\"\n\n\n\ntype Props = {\n    item: AccountModel\n}\nconst EditModal: React.FC<Props> = ({ item }) => {\n    console.log(\"------item------\", item)\n    const dispatch = useDispatch()\n    const API_URL = process.env.REACT_APP_API_URL\n    const [vpsoption, setvpsoption] = useState('Buffh')\n    const [vpsreset, setvpsreset] = useState(0)\n    const [threads, setthreads] = useState(item.threads)\n    async function resetrunningacc(vps:string) {\n        let  requestUrl = API_URL+'vps/resetrunningaccbyvps?vps='+vps;\n        const response = await fetch(requestUrl, {\n            method: 'get',\n            headers: new Headers({\n                'Authorization': '1',\n                'Content-Type': 'application/x-www-form-urlencoded'\n            })\n        });\n        const responseJson = await response.json();\n        const {status} = responseJson;\n        return status\n    }\n    const dismissModal = () => {\n        dispatch(actions.clearCurrentAccount())\n    }\n    const updateUser = () => {\n        if(vpsreset==2){\n            resetrunningacc(item.vps.trim())\n        }\n        dispatch(actions.requestUpdate({\n            ...item,\n            vpsoption:vpsoption,\n            threads:threads,\n            vpsreset:vpsreset\n        }))\n    }\n    const handleChange = (e:any) => {\n        setthreads(parseInt(e.target.value))\n    }\n\n\n    return (\n        <Modal isOpen={true}\n            modalTransition={{ timeout: 500 }}>\n            <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                    <h3 style={{fontWeight:'bold',fontFamily:'monospace'}}  className=\"modal-title\">Update cho VPS IP:  {item?.vps}</h3>\n                    <div className=\"btn btn-icon btn-sm btn-active-light-primary ms-2\" aria-label=\"Close\">\n                        <span className=\"svg-icon svg-icon-2x\"></span>\n                    </div>\n                </div>\n                <div className=\"modal-body\">\n                    <p style={{fontWeight:'bold'}}>Nhập số luồng</p>\n                    <div className=\"input-group mb-5\">\n                        <input style={{fontWeight:'bold'}} value={threads} onChange={handleChange} type=\"number\" className=\"form-control\" placeholder=\"Nhập số point cho user\" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\" />\n                        <span className=\"input-group-text\" id=\"basic-addon2\">thread</span>\n                    </div>\n                    <p style={{fontWeight:'bold'}}>Chọn Option</p>\n                    <div className=\"input-group mb-5\">\n                        <Input\n                            onChange={(e) => setvpsoption(e.target.value)}\n                            className=\"form-control form-control-solid\"\n                            type=\"select\"\n                            style={{fontWeight:'bold'}}\n                            value={vpsoption}\n                        >\n                            <option key={1} value={'Buffh'}>\n                                {\"Buffh\"}\n                            </option>\n                            <option key={2} value={'Test1'}>\n                                {\"Test1\"}\n                            </option>\n                            <option key={3} value={'Test2'}>\n                                {\"Test2\"}\n                            </option>\n                            <option key={0} value={'Pending'}>\n                                {\"Pending\"}\n                            </option>\n                        </Input>\n                    </div>\n                    <p style={{fontWeight:'bold'}}>Có Restart VPS?</p>\n                    <div className=\"input-group mb-5\">\n                        <Input\n                            onChange={(e) => setvpsreset(parseInt(e.target.value))}\n                            className=\"form-control form-control-solid\"\n                            type=\"select\"\n                            style={{fontWeight:'bold'}}\n                            value={vpsreset}\n                        >\n                            <option key={1} value={0}>\n                                {\"Không\"}\n                            </option>\n                            <option key={1} value={1}>\n                                {\"Restart\"}\n                            </option>\n                            <option key={1} value={2}>\n                                {\"Restart & DelAcc\"}\n                            </option>\n                        </Input>\n                    </div>\n                </div>\n\n                <div className=\"modal-footer\">\n                    <button type=\"button\" onClick={dismissModal} className=\"btn btn-light\" >Thoát</button>\n                    <button type=\"button\" onClick={updateUser} style={{backgroundColor:\"#26695c\",color:\"white\"}} className=\"btn \">Lưu</button>\n                </div>\n            </div>\n\n        </Modal>\n    )\n}\n\nexport default EditModal"],"mappings":"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"},"metadata":{},"sourceType":"module"}