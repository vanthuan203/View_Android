{"ast":null,"code":"import _objectSpread from\"C:/Users/KT2/OneDrive/Documents/Buffh/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/KT2/OneDrive/Documents/Buffh/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import*as Yup from'yup';import clsx from'clsx';import{Link}from'react-router-dom';import{useFormik}from'formik';import{requestPassword}from'../redux/AuthCRUD';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var initialValues={email:'admin@demo.com'};var forgotPasswordSchema=Yup.object().shape({email:Yup.string().email('Wrong email format').min(3,'Minimum 3 symbols').max(50,'Maximum 50 symbols').required('Email is required')});export function ForgotPassword(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),hasErrors=_useState4[0],setHasErrors=_useState4[1];var formik=useFormik({initialValues:initialValues,validationSchema:forgotPasswordSchema,onSubmit:function onSubmit(values,_ref){var setStatus=_ref.setStatus,setSubmitting=_ref.setSubmitting;setLoading(true);setHasErrors(undefined);setTimeout(function(){requestPassword(values.email).then(function(_ref2){var result=_ref2.data.result;setHasErrors(false);setLoading(false);}).catch(function(){setHasErrors(true);setLoading(false);setSubmitting(false);setStatus('The login detail is incorrect');});},1000);}});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form w-100 fv-plugins-bootstrap5 fv-plugins-framework\",noValidate:true,id:\"kt_login_password_reset_form\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-10\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-dark mb-3\",children:\"Forgot Password ?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400 fw-bold fs-4\",children:\"Enter your email to reset your password.\"})]}),hasErrors===true&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-lg-15 alert alert-danger\",children:/*#__PURE__*/_jsx(\"div\",{className:\"alert-text font-weight-bold\",children:\"Sorry, looks like there are some errors detected, please try again.\"})}),hasErrors===false&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-10 bg-light-info p-8 rounded\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-info\",children:\"Sent password reset. Please check your email\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"fv-row mb-10\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label fw-bolder text-gray-900 fs-6\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"email\",placeholder:\"\",autoComplete:\"off\"},formik.getFieldProps('email')),{},{className:clsx('form-control form-control-lg form-control-solid',{'is-invalid':formik.touched.email&&formik.errors.email},{'is-valid':formik.touched.email&&!formik.errors.email})})),formik.touched.email&&formik.errors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"fv-plugins-message-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fv-help-block\",children:/*#__PURE__*/_jsx(\"span\",{role:\"alert\",children:formik.errors.email})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap justify-content-center pb-lg-0\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",id:\"kt_password_reset_submit\",className:\"btn btn-lg btn-primary fw-bolder me-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"indicator-label\",children:\"Submit\"}),loading&&/*#__PURE__*/_jsxs(\"span\",{className:\"indicator-progress\",children:[\"Please wait...\",/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm align-middle ms-2\"})]})]}),/*#__PURE__*/_jsx(Link,{to:\"/auth/login\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",id:\"kt_login_password_reset_form_cancel_button\",className:\"btn btn-lg btn-light-primary fw-bolder\",disabled:formik.isSubmitting||!formik.isValid,children:\"Cancel\"})}),' ']})]})});}","map":{"version":3,"names":["React","useState","Yup","clsx","Link","useFormik","requestPassword","initialValues","email","forgotPasswordSchema","object","shape","string","min","max","required","ForgotPassword","loading","setLoading","undefined","hasErrors","setHasErrors","formik","validationSchema","onSubmit","values","setStatus","setSubmitting","setTimeout","then","result","data","catch","handleSubmit","getFieldProps","touched","errors","isSubmitting","isValid"],"sources":["C:/Users/KT2/OneDrive/Documents/Buffh/ssc.fe.cheatview-main/src/app/modules/auth/components/ForgotPassword.tsx"],"sourcesContent":["import React, {useState} from 'react'\nimport * as Yup from 'yup'\nimport clsx from 'clsx'\nimport {Link} from 'react-router-dom'\nimport {useFormik} from 'formik'\nimport {requestPassword} from '../redux/AuthCRUD'\n\nconst initialValues = {\n  email: 'admin@demo.com',\n}\n\nconst forgotPasswordSchema = Yup.object().shape({\n  email: Yup.string()\n    .email('Wrong email format')\n    .min(3, 'Minimum 3 symbols')\n    .max(50, 'Maximum 50 symbols')\n    .required('Email is required'),\n})\n\nexport function ForgotPassword() {\n  const [loading, setLoading] = useState(false)\n  const [hasErrors, setHasErrors] = useState<boolean | undefined>(undefined)\n  const formik = useFormik({\n    initialValues,\n    validationSchema: forgotPasswordSchema,\n    onSubmit: (values, {setStatus, setSubmitting}) => {\n      setLoading(true)\n      setHasErrors(undefined)\n      setTimeout(() => {\n        requestPassword(values.email)\n          .then(({data: {result}}) => {\n            setHasErrors(false)\n            setLoading(false)\n          })\n          .catch(() => {\n            setHasErrors(true)\n            setLoading(false)\n            setSubmitting(false)\n            setStatus('The login detail is incorrect')\n          })\n      }, 1000)\n    },\n  })\n\n  return (\n    <>\n      <form\n        className='form w-100 fv-plugins-bootstrap5 fv-plugins-framework'\n        noValidate\n        id='kt_login_password_reset_form'\n        onSubmit={formik.handleSubmit}\n      >\n        <div className='text-center mb-10'>\n          {/* begin::Title */}\n          <h1 className='text-dark mb-3'>Forgot Password ?</h1>\n          {/* end::Title */}\n\n          {/* begin::Link */}\n          <div className='text-gray-400 fw-bold fs-4'>Enter your email to reset your password.</div>\n          {/* end::Link */}\n        </div>\n\n        {/* begin::Title */}\n        {hasErrors === true && (\n          <div className='mb-lg-15 alert alert-danger'>\n            <div className='alert-text font-weight-bold'>\n              Sorry, looks like there are some errors detected, please try again.\n            </div>\n          </div>\n        )}\n\n        {hasErrors === false && (\n          <div className='mb-10 bg-light-info p-8 rounded'>\n            <div className='text-info'>Sent password reset. Please check your email</div>\n          </div>\n        )}\n        {/* end::Title */}\n\n        {/* begin::Form group */}\n        <div className='fv-row mb-10'>\n          <label className='form-label fw-bolder text-gray-900 fs-6'>Email</label>\n          <input\n            type='email'\n            placeholder=''\n            autoComplete='off'\n            {...formik.getFieldProps('email')}\n            className={clsx(\n              'form-control form-control-lg form-control-solid',\n              {'is-invalid': formik.touched.email && formik.errors.email},\n              {\n                'is-valid': formik.touched.email && !formik.errors.email,\n              }\n            )}\n          />\n          {formik.touched.email && formik.errors.email && (\n            <div className='fv-plugins-message-container'>\n              <div className='fv-help-block'>\n                <span role='alert'>{formik.errors.email}</span>\n              </div>\n            </div>\n          )}\n        </div>\n        {/* end::Form group */}\n\n        {/* begin::Form group */}\n        <div className='d-flex flex-wrap justify-content-center pb-lg-0'>\n          <button\n            type='submit'\n            id='kt_password_reset_submit'\n            className='btn btn-lg btn-primary fw-bolder me-4'\n          >\n            <span className='indicator-label'>Submit</span>\n            {loading && (\n              <span className='indicator-progress'>\n                Please wait...\n                <span className='spinner-border spinner-border-sm align-middle ms-2'></span>\n              </span>\n            )}\n          </button>\n          <Link to='/auth/login'>\n            <button\n              type='button'\n              id='kt_login_password_reset_form_cancel_button'\n              className='btn btn-lg btn-light-primary fw-bolder'\n              disabled={formik.isSubmitting || !formik.isValid}\n            >\n              Cancel\n            </button>\n          </Link>{' '}\n        </div>\n        {/* end::Form group */}\n      </form>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}