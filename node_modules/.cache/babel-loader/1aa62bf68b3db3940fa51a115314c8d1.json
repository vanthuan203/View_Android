{"ast":null,"code":"import _slicedToArray from\"C:/Users/KT2/Desktop/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable jsx-a11y/anchor-is-valid */import React,{useEffect,useState}from'react';import UserItem from'./components/UserItem';import{actions}from\"./redux/AccountRedux\";import{useDispatch}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserList=function UserList(_ref){var className=_ref.className,accounts=_ref.accounts;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showEditMulti=_useState2[0],setShowEditMulti=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAddManual=_useState4[0],setShowAddManual=_useState4[1];useEffect(function(){dispatch(actions.requestAccounts());},[]);var isShowFixMulti=accounts.find(function(item){if(item.checked){return true;}return false;});var total_waring=0;var total_thread=0;var total_view24h=0;for(var i=0;i<accounts.length;i++){if((Date.now()-accounts[i].timecheck)/1000/60>6){total_waring=total_waring+1;}else{total_thread=total_thread+accounts[i].total;}total_view24h=total_view24h+accounts[i].view24h;}return/*#__PURE__*/_jsxs(\"div\",{className:\"card \".concat(className),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header border-0 pt-5\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"card-title align-items-start flex-column\",children:[/*#__PURE__*/_jsx(\"span\",{style:{fontFamily:'monospace'},className:\"card-label fw-bolder fs-3 mb-1\",children:\"Danh s\\xE1ch VPS \"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'black',fontSize:20},className:\"badge badge-success\",children:[accounts?accounts.length:0,\" vps running\",/*#__PURE__*/_jsxs(\"span\",{className:\"badge badge-warning\",style:{color:'black',margin:4},children:[total_waring,\" vps warning\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge badge-secondary\",style:{color:'black',margin:4},children:[total_thread,\" thread\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge badge-danger\",style:{color:'black',margin:4},children:[total_view24h,\" view\"]})]})]}),isShowFixMulti&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{style:{fontWeight:'bold',margin:5},onClick:function onClick(){setShowEditMulti(true);},className:\"btn btn-sm btn-primary\",children:\"Ch\\u1EC9nh s\\u1EEDa\"}),/*#__PURE__*/_jsx(\"button\",{style:{fontWeight:'bold'},onClick:function onClick(){setShowAddManual(true);},className:\"btn btn-sm btn-primary mx-0\",children:\"X\\xF3a VPS\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body py-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"fw-bolder text-muted\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"w-25px\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-check form-check-sm form-check-custom form-check-solid\",children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(evt){dispatch(actions.checkedAllChange(evt.target.checked));},className:\"form-check-input\",type:\"checkbox\",value:\"1\",\"data-kt-check\":\"true\",\"data-kt-check-target\":\".widget-13-check\"})})}),/*#__PURE__*/_jsx(\"th\",{className:\"w-25px\",children:\"STT\"}),/*#__PURE__*/_jsx(\"th\",{className:\"min-w-150px\",children:\"VPS IP\"}),/*#__PURE__*/_jsx(\"th\",{className:\"min-w-140px\",children:\"VPS Option\"}),/*#__PURE__*/_jsx(\"th\",{className:\"min-w-120px\",children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsx(\"th\",{className:\"min-w-100px text-end\",children:\"H\\xE0nh \\u0111\\u1ED9ng\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:accounts&&(accounts===null||accounts===void 0?void 0:accounts.map(function(item,index){return/*#__PURE__*/_jsx(UserItem,{item:item,index:index},item.id+index);}))})]})})})]});};export{UserList};","map":{"version":3,"names":["React","useEffect","useState","UserItem","actions","useDispatch","UserList","className","accounts","dispatch","showEditMulti","setShowEditMulti","showAddManual","setShowAddManual","requestAccounts","isShowFixMulti","find","item","checked","total_waring","total_thread","total_view24h","i","length","Date","now","timecheck","total","view24h","fontFamily","color","fontSize","margin","fontWeight","evt","checkedAllChange","target","map","index","id"],"sources":["C:/Users/KT2/Desktop/ssc.fe.cheatview-main/src/app/modules/accounts/UserList.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, {useEffect, useState} from 'react'\nimport { KTSVG, toAbsoluteUrl } from '../../../_metronic/helpers'\nimport { AccountModel } from 'app/modules/accounts/models/Account'\n\nimport UserItem from './components/UserItem'\nimport {actions} from \"./redux/AccountRedux\";\nimport {shallowEqual, useDispatch, useSelector} from 'react-redux'\nimport {ComputerModel} from \"../history/models/Account\";\nimport {RootState} from \"../../../setup\";\nimport EditMulti from \"./modals/EditMulti\";\ntype Props = {\n  className: string,\n  accounts: AccountModel[]\n}\n\nconst UserList: React.FC<Props> = ({ className, accounts }) => {\n\n  const dispatch = useDispatch()\n  const [showEditMulti, setShowEditMulti] = useState(false)\n  const [showAddManual, setShowAddManual] = useState(false)\n  useEffect(() => {\n    dispatch(actions.requestAccounts())\n  }, [])\n\n  const isShowFixMulti = accounts.find((item) => {\n    if (item.checked) {\n      return true\n    }\n    return false\n  })\n  let total_waring=0;\n  let total_thread=0;\n  let total_view24h=0;\n  for(let i=0;i<accounts.length;i++){\n    if((Date.now()-accounts[i].timecheck)/1000/60>6){\n      total_waring=total_waring+1;\n    }else{\n      total_thread=total_thread+accounts[i].total;\n    }\n    total_view24h=total_view24h+accounts[i].view24h;\n  }\n\n  return (\n    <div className={`card ${className}`}>\n      {/* begin::Header */}\n\n      <div  className='card-header border-0 pt-5'>\n        <h3 className='card-title align-items-start flex-column'>\n          <span style={{fontFamily:'monospace'}} className='card-label fw-bolder fs-3 mb-1'>Danh sách VPS </span>\n          <span style={{color:'black',fontSize:20}} className='badge badge-success'>{accounts?accounts.length:0} vps running\n\n            <span className='badge badge-warning' style={{ color:'black',margin:4}}>{total_waring} vps warning</span>\n            <span className='badge badge-secondary' style={{ color:'black',margin:4}}>{total_thread} thread</span>\n            <span className='badge badge-danger' style={{ color:'black',margin:4}}>{total_view24h} view</span>\n            </span>\n        </h3>\n        {isShowFixMulti && (\n            <div>\n                <button style={{fontWeight:'bold',margin:5}}\n                        onClick={() => {\n                          setShowEditMulti(true)\n                        }}\n                        className='btn btn-sm btn-primary'>\n                  Chỉnh sửa\n                </button>\n                <button style={{fontWeight:'bold'}}\n                    onClick={() => {\n                      setShowAddManual(true)\n                    }}\n                    className='btn btn-sm btn-primary mx-0'>\n                  Xóa VPS\n                </button>\n            </div>\n\n        )}\n      </div>\n      {/* end::Header */}\n      {/* begin::Body */}\n      <div className='card-body py-3'>\n        {/* begin::Table container */}\n        <div className='table-responsive'>\n          {/* begin::Menu */}\n          <table className='table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4'>\n            {/* begin::Table head */}\n            <thead>\n              <tr className='fw-bolder text-muted'>\n\n                <th className='w-25px'>\n                  <div className='form-check form-check-sm form-check-custom form-check-solid'>\n                    <input\n                        onChange={(evt) => {\n                          dispatch(actions.checkedAllChange(evt.target.checked))\n                        }}\n                        className='form-check-input'\n                        type='checkbox'\n                        value='1'\n                        data-kt-check='true'\n                        data-kt-check-target='.widget-13-check'\n                    />\n                  </div>\n                </th>\n                <th className='w-25px'>STT</th>\n                <th className='min-w-150px'>VPS IP</th>\n                <th className='min-w-140px'>VPS Option</th>\n                <th className='min-w-120px'>Trạng thái</th>\n                <th className='min-w-100px text-end'>Hành động</th>\n              </tr>\n            </thead>\n            {/* end::Table head */}\n            {/* begin::Table body */}\n            <tbody>\n              {\n                accounts&&accounts?.map((item: AccountModel,index:number) => {\n                  return <UserItem key={item.id+index} item={item} index={index} />\n                })\n              }\n\n            </tbody>\n            {/* end::Table body */}\n          </table>\n          {/* end::Table */}\n        </div>\n        {/* end::Table container */}\n      </div>\n      {/* begin::Body */}\n\n    </div>\n  )\n}\nexport  { UserList }"],"mappings":"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"},"metadata":{},"sourceType":"module"}