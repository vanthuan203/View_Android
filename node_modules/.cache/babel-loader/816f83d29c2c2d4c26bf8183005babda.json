{"ast":null,"code":"import _objectSpread from\"C:/Users/KT2/OneDrive/Documents/Buffh/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/KT2/OneDrive/Documents/Buffh/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useDispatch}from'react-redux';import{actions}from'../../redux/AccountRedux';import'bootstrap/dist/css/bootstrap.min.css';import{Modal,Input}from\"reactstrap\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function format1(n){return n.toFixed(0).replace(/./g,function(c,i,a){return i>0&&c!==\".\"&&(a.length-i)%3===0?\",\"+c:c;});}var EditModal=function EditModal(_ref){var item=_ref.item;console.log(\"------item------\",item);var dispatch=useDispatch();var API_URL=process.env.REACT_APP_API_URL;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),balance=_useState2[0],setbalance=_useState2[1];var _useState3=useState(item.discount),_useState4=_slicedToArray(_useState3,2),discount=_useState4[0],setdiscount=_useState4[1];var _useState5=useState(item.maxorder),_useState6=_slicedToArray(_useState5,2),maxorder=_useState6[0],setmaxorder=_useState6[1];var _useState7=useState(item.vip),_useState8=_slicedToArray(_useState7,2),vip=_useState8[0],setvip=_useState8[1];var dismissModal=function dismissModal(){dispatch(actions.clearCurrentAccount());};var updateUser=function updateUser(){if(balance<100000&&balance!=0){alert(\"Số tiền nhỏ nhất là 100,000đ!\");return;}if(discount>100||discount<0){alert(\"% giảm giá không hợp lệ!\");return;}if(maxorder<0){alert(\"Giá trị số đơn max không hợp lệ!\");return;}dispatch(actions.requestUpdate(_objectSpread(_objectSpread({},item),{},{balance:balance,discount:discount,maxorder:maxorder,vip:vip})));};return/*#__PURE__*/_jsx(Modal,{isOpen:true,modalTransition:{timeout:500},children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontWeight:'bold',fontFamily:'monospace'},className:\"modal-title\",children:[\"Update:  \",item===null||item===void 0?void 0:item.username]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-icon btn-sm btn-active-light-primary ms-2\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{className:\"svg-icon svg-icon-2x\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold'},children:\"S\\u1ED1 ti\\u1EC1n n\\u1EA1p\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-5\",children:[/*#__PURE__*/_jsx(\"input\",{style:{fontWeight:'bold'},value:balance,type:\"number\",className:\"form-control\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\",onChange:function onChange(e){return setbalance(parseInt(e.target.value));}}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon2\",children:\"\\u0111\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold'},children:\"Gi\\u1EA3m gi\\xE1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-5\",children:[/*#__PURE__*/_jsx(\"input\",{style:{fontWeight:'bold'},value:discount,type:\"number\",className:\"form-control\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\",onChange:function onChange(e){return setdiscount(parseInt(e.target.value));}}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon2\",children:\"%\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold'},children:\"S\\u1ED1 \\u0111\\u01A1n max\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-5\",children:[/*#__PURE__*/_jsx(\"input\",{style:{fontWeight:'bold'},value:maxorder,type:\"number\",className:\"form-control\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\",onChange:function onChange(e){return setmaxorder(parseInt(e.target.value));}}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon2\",children:\"\\u0111\\u01A1n\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold'},children:\"User Vip\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group mb-5\",children:/*#__PURE__*/_jsxs(Input,{onChange:function onChange(e){return setvip(parseInt(e.target.value));},className:\"form-control form-control-solid\",type:\"select\",style:{fontWeight:'bold'},value:vip,children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"True\"},1),/*#__PURE__*/_jsx(\"option\",{value:0,children:\"False\"},0)]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:dismissModal,className:\"btn btn-light\",children:\"Tho\\xE1t\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:updateUser,style:{backgroundColor:\"#26695c\",color:\"white\"},className:\"btn \",children:\"L\\u01B0u\"})]})]})});};export default EditModal;","map":{"version":3,"names":["React","useState","useDispatch","actions","Modal","Input","format1","n","toFixed","replace","c","i","a","length","EditModal","item","console","log","dispatch","API_URL","process","env","REACT_APP_API_URL","balance","setbalance","discount","setdiscount","maxorder","setmaxorder","vip","setvip","dismissModal","clearCurrentAccount","updateUser","alert","requestUpdate","timeout","fontWeight","fontFamily","username","e","parseInt","target","value","backgroundColor","color"],"sources":["C:/Users/KT2/OneDrive/Documents/Buffh/ssc.fe.cheatview-main/src/app/modules/users/modals/EditModal/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { KTSVG, toAbsoluteUrl } from '_metronic/helpers'\nimport { AccountModel } from 'app/modules/users/models/Account'\nimport { useDispatch } from 'react-redux'\nimport { actions } from '../../redux/AccountRedux'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n    Button, Modal, ModalFooter,\n    ModalHeader, ModalBody, Input\n} from \"reactstrap\"\n\n\n\ntype Props = {\n    item: AccountModel\n}\nfunction format1(n:number) {\n    return n.toFixed(0).replace(/./g, function(c, i, a) {\n        return i > 0 && c !== \".\" && (a.length - i) % 3 === 0 ? \",\" + c : c;\n    });\n}\nconst EditModal: React.FC<Props> = ({ item }) => {\n    console.log(\"------item------\", item)\n    const dispatch = useDispatch()\n    const API_URL = process.env.REACT_APP_API_URL\n    const [balance, setbalance] = useState(0)\n    const [discount, setdiscount] = useState(item.discount)\n    const [maxorder, setmaxorder] = useState(item.maxorder)\n    const [vip, setvip] = useState(item.vip)\n\n    const dismissModal = () => {\n        dispatch(actions.clearCurrentAccount())\n    }\n    const updateUser = () => {\n        if(balance<100000 && balance!=0){\n            alert(\"Số tiền nhỏ nhất là 100,000đ!\")\n            return\n        }\n        if(discount>100 || discount<0){\n            alert(\"% giảm giá không hợp lệ!\")\n            return\n        }\n        if(maxorder<0){\n            alert(\"Giá trị số đơn max không hợp lệ!\")\n            return\n        }\n        dispatch(actions.requestUpdate({\n            ...item,\n            balance,\n            discount,\n            maxorder,\n            vip,\n        }))\n    }\n\n    return (\n        <Modal isOpen={true}\n            modalTransition={{ timeout: 500 }}>\n            <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                    <h3 style={{fontWeight:'bold',fontFamily:'monospace'}}  className=\"modal-title\">Update:  {item?.username}</h3>\n                    <div className=\"btn btn-icon btn-sm btn-active-light-primary ms-2\" aria-label=\"Close\">\n                        <span className=\"svg-icon svg-icon-2x\"></span>\n                    </div>\n                </div>\n                <div className=\"modal-body\">\n                    <p style={{fontWeight:'bold'}}>Số tiền nạp</p>\n                    <div className=\"input-group mb-5\">\n                        <input style={{fontWeight:'bold'}} value={balance} type=\"number\" className=\"form-control\" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\"\n                               onChange={(e) => setbalance(parseInt(e.target.value))}\n                        />\n                        <span className=\"input-group-text\" id=\"basic-addon2\">đ</span>\n                    </div>\n                    <p style={{fontWeight:'bold'}}>Giảm giá</p>\n                    <div className=\"input-group mb-5\">\n                        <input style={{fontWeight:'bold'}} value={discount} type=\"number\" className=\"form-control\"  aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\"\n                               onChange={(e) => setdiscount(parseInt(e.target.value))}\n                        />\n                        <span className=\"input-group-text\" id=\"basic-addon2\">%</span>\n                    </div>\n                    <p style={{fontWeight:'bold'}}>Số đơn max</p>\n                    <div className=\"input-group mb-5\">\n                        <input style={{fontWeight:'bold'}} value={maxorder} type=\"number\" className=\"form-control\"  aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\"\n                               onChange={(e) => setmaxorder(parseInt(e.target.value))}\n                        />\n                        <span className=\"input-group-text\" id=\"basic-addon2\">đơn</span>\n                    </div>\n                    <p style={{fontWeight:'bold'}}>User Vip</p>\n                    <div className=\"input-group mb-5\">\n                        <Input\n                            onChange={(e) => setvip(parseInt(e.target.value))}\n                            className=\"form-control form-control-solid\"\n                            type=\"select\"\n                            style={{fontWeight:'bold'}}\n                            value={vip}\n                        >\n                            <option key={1} value={1}>\n                                {\"True\"}\n                            </option>\n                            <option key={0} value={0}>\n                                {\"False\"}\n                            </option>\n\n                        </Input>\n                    </div>\n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"button\" onClick={dismissModal} className=\"btn btn-light\" >Thoát</button>\n                    <button type=\"button\" onClick={updateUser} style={{backgroundColor:\"#26695c\",color:\"white\"}} className=\"btn \">Lưu</button>\n                </div>\n            </div>\n\n        </Modal>\n    )\n}\n\nexport default EditModal"],"mappings":"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"},"metadata":{},"sourceType":"module"}