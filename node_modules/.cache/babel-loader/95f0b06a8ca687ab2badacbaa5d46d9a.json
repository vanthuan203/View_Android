{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/KT2/Desktop/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/KT2/Desktop/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var _marked=/*#__PURE__*/_regeneratorRuntime().mark(saga);import{persistReducer}from'redux-persist';import storage from'redux-persist/lib/storage';import{put,takeLatest}from'redux-saga/effects';import{getList,getComputer,getStatics}from'./AccountCRUD';export var actionTypes={RequestHistories:'[Histories] Requested',HistoryLoadedSuccess:'[Histories] Loaded succcess',HistoryLoadedFail:'[Histories] load fail',RequestComputers:'[Computers] Requested',ComputersLoadedSuccess:'[Computers] Loaded succcess',RequestStatic:'[Static] Requested',StaticLoadedSuccess:'[Static] Loaded succcess'};var initialAccountState={histories:[],loading:false,computers:[],statics:[]};export var reducer=persistReducer({storage:storage,key:'v1-histories',whitelist:[]},function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialAccountState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case actionTypes.RequestHistories:{return _objectSpread(_objectSpread({},state),{},{histories:[],loading:true});}case actionTypes.RequestComputers:{return _objectSpread(_objectSpread({},state),{},{computers:[]});}case actionTypes.ComputersLoadedSuccess:{var _action$payload;return _objectSpread(_objectSpread({},state),{},{computers:((_action$payload=action.payload)===null||_action$payload===void 0?void 0:_action$payload.computers)||[]});}case actionTypes.RequestStatic:{return _objectSpread(_objectSpread({},state),{},{statics:[]});}case actionTypes.StaticLoadedSuccess:{var _action$payload2;return _objectSpread(_objectSpread({},state),{},{statics:((_action$payload2=action.payload)===null||_action$payload2===void 0?void 0:_action$payload2.statics)||[]});}case actionTypes.HistoryLoadedSuccess:{var _action$payload3;return _objectSpread(_objectSpread({},state),{},{histories:((_action$payload3=action.payload)===null||_action$payload3===void 0?void 0:_action$payload3.histories)||[],loading:false});}case actionTypes.HistoryLoadedFail:{return _objectSpread(_objectSpread({},state),{},{histories:[],loading:false});}default:return state;}});export var actions={requestHistories:function requestHistories(user_id){return{type:actionTypes.RequestHistories,payload:{user_id:user_id}};},fulfillHistories:function fulfillHistories(histories){return{type:actionTypes.HistoryLoadedSuccess,payload:{histories:histories}};},loadAccountsFail:function loadAccountsFail(message){return{type:actionTypes.HistoryLoadedFail,payload:{message:message}};},requestComputers:function requestComputers(){return{type:actionTypes.RequestComputers};},fulfillComputers:function fulfillComputers(computers){return{type:actionTypes.ComputersLoadedSuccess,payload:{computers:computers}};},requestStatics:function requestStatics(){return{type:actionTypes.RequestStatic};},fulfillStatics:function fulfillStatics(statics){return{type:actionTypes.StaticLoadedSuccess,payload:{statics:statics}};}};export function saga(){return _regeneratorRuntime().wrap(function saga$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return takeLatest(actionTypes.RequestHistories,/*#__PURE__*/_regeneratorRuntime().mark(function userRequested(param){var _yield$getList,resutl;return _regeneratorRuntime().wrap(function userRequested$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getList();case 2:_yield$getList=_context.sent;resutl=_yield$getList.data;console.log(resutl);_context.next=7;return put(actions.fulfillHistories(resutl.histories));case 7:case\"end\":return _context.stop();}}},userRequested);}));case 2:_context4.next=4;return takeLatest(actionTypes.RequestComputers,/*#__PURE__*/_regeneratorRuntime().mark(function userRequested(param){var _yield$getComputer,resutl;return _regeneratorRuntime().wrap(function userRequested$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getComputer();case 2:_yield$getComputer=_context2.sent;resutl=_yield$getComputer.data;console.log(resutl);_context2.next=7;return put(actions.fulfillComputers(resutl.computers));case 7:case\"end\":return _context2.stop();}}},userRequested);}));case 4:_context4.next=6;return takeLatest(actionTypes.RequestStatic,/*#__PURE__*/_regeneratorRuntime().mark(function userRequested(param){var _yield$getStatics,resutl;return _regeneratorRuntime().wrap(function userRequested$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getStatics();case 2:_yield$getStatics=_context3.sent;resutl=_yield$getStatics.data;console.log(resutl);_context3.next=7;return put(actions.fulfillStatics(resutl.statics));case 7:case\"end\":return _context3.stop();}}},userRequested);}));case 6:case\"end\":return _context4.stop();}}},_marked);}","map":{"version":3,"names":["saga","persistReducer","storage","put","takeLatest","getList","getComputer","getStatics","actionTypes","RequestHistories","HistoryLoadedSuccess","HistoryLoadedFail","RequestComputers","ComputersLoadedSuccess","RequestStatic","StaticLoadedSuccess","initialAccountState","histories","loading","computers","statics","reducer","key","whitelist","state","action","type","payload","actions","requestHistories","user_id","fulfillHistories","loadAccountsFail","message","requestComputers","fulfillComputers","requestStatics","fulfillStatics","userRequested","param","resutl","data","console","log"],"sources":["C:/Users/KT2/Desktop/ssc.fe.cheatview-main/src/app/modules/history/redux/AccountRedux.ts"],"sourcesContent":["import { Action } from '@reduxjs/toolkit'\nimport { persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport { put, takeLatest } from 'redux-saga/effects'\nimport { ComputerModel, HistoryModel ,ChannelStaticModel} from '../models/Account'\nimport { getList,getComputer,getStatics} from './AccountCRUD'\nexport interface ActionWithPayload<T> extends Action {\n  payload?: T\n}\n\nexport const actionTypes = {\n  RequestHistories: '[Histories] Requested',\n  HistoryLoadedSuccess: '[Histories] Loaded succcess',\n  HistoryLoadedFail: '[Histories] load fail',\n  RequestComputers: '[Computers] Requested',\n  ComputersLoadedSuccess: '[Computers] Loaded succcess',\n  RequestStatic: '[Static] Requested',\n  StaticLoadedSuccess: '[Static] Loaded succcess',\n}\n\n\nconst initialAccountState: IAccountState = {\n  histories: [],\n  loading: false,\n  computers:[],\n  statics:[]\n}\n\nexport interface IAccountState {\n  histories: HistoryModel[]\n  loading: boolean\n  computers : ComputerModel[],\n  statics : ChannelStaticModel[]\n}\n\nexport const reducer = persistReducer(\n  { storage, key: 'v1-histories', whitelist: [] },\n  (state: IAccountState = initialAccountState, action: ActionWithPayload<IAccountState>) => {\n    switch (action.type) {\n      case actionTypes.RequestHistories: {\n        return {\n          ...state,\n          histories: [],\n          loading: true\n        }\n      }\n      case actionTypes.RequestComputers: {\n        return {\n          ...state,\n          computers: []\n        }\n      }\n      case actionTypes.ComputersLoadedSuccess: {\n        return {\n          ...state,\n          computers: action.payload?.computers || [],\n        }\n      }\n      case actionTypes.RequestStatic: {\n        return {\n          ...state,\n          statics: []\n        }\n      }\n      case actionTypes.StaticLoadedSuccess: {\n        return {\n          ...state,\n          statics: action.payload?.statics || [],\n        }\n      }\n      case actionTypes.HistoryLoadedSuccess: {\n        return {\n          ...state,\n          histories: action.payload?.histories || [],\n          loading: false\n        }\n      }\n      case actionTypes.HistoryLoadedFail: {\n        return {\n          ...state,\n          histories: [],\n          loading: false\n        }\n      }\n      default:\n        return state\n    }\n  }\n)\n\nexport const actions = {\n  requestHistories: (user_id: number) => ({ type: actionTypes.RequestHistories, payload: { user_id } }),\n  fulfillHistories: (histories: HistoryModel[]) => ({ type: actionTypes.HistoryLoadedSuccess, payload: { histories } }),\n  loadAccountsFail: (message: string) => ({ type: actionTypes.HistoryLoadedFail, payload: { message } }),\n  requestComputers: () => ({ type: actionTypes.RequestComputers}),\n  fulfillComputers: (computers: ComputerModel[]) => ({ type: actionTypes.ComputersLoadedSuccess, payload: { computers } }),\n  requestStatics: () => ({ type: actionTypes.RequestStatic}),\n  fulfillStatics: (statics: ChannelStaticModel[]) => ({ type: actionTypes.StaticLoadedSuccess, payload: { statics } }),\n}\n\nexport function* saga() {\n  yield takeLatest(actionTypes.RequestHistories, function* userRequested(param: any) {\n    const {data: resutl} = yield getList()\n    console.log(resutl)\n    yield put(actions.fulfillHistories(resutl.histories))\n  })\n  yield takeLatest(actionTypes.RequestComputers, function* userRequested(param: any) {\n    const {data: resutl} = yield getComputer()\n    console.log(resutl)\n    yield put(actions.fulfillComputers(resutl.computers))\n  })\n  yield takeLatest(actionTypes.RequestStatic, function* userRequested(param: any) {\n    const {data: resutl} = yield getStatics()\n    console.log(resutl)\n    yield put(actions.fulfillStatics(resutl.statics))\n  })\n}\n"],"mappings":"6TAoGiBA,I,EAnGjB,OAASC,cAAT,KAA+B,eAA/B,CACA,MAAOC,QAAP,KAAoB,2BAApB,CACA,OAASC,GAAT,CAAcC,UAAd,KAAgC,oBAAhC,CAEA,OAASC,OAAT,CAAiBC,WAAjB,CAA6BC,UAA7B,KAA8C,eAA9C,CAKA,MAAO,IAAMC,YAAW,CAAG,CACzBC,gBAAgB,CAAE,uBADO,CAEzBC,oBAAoB,CAAE,6BAFG,CAGzBC,iBAAiB,CAAE,uBAHM,CAIzBC,gBAAgB,CAAE,uBAJO,CAKzBC,sBAAsB,CAAE,6BALC,CAMzBC,aAAa,CAAE,oBANU,CAOzBC,mBAAmB,CAAE,0BAPI,CAApB,CAWP,GAAMC,oBAAkC,CAAG,CACzCC,SAAS,CAAE,EAD8B,CAEzCC,OAAO,CAAE,KAFgC,CAGzCC,SAAS,CAAC,EAH+B,CAIzCC,OAAO,CAAC,EAJiC,CAA3C,CAcA,MAAO,IAAMC,QAAO,CAAGpB,cAAc,CACnC,CAAEC,OAAO,CAAPA,OAAF,CAAWoB,GAAG,CAAE,cAAhB,CAAgCC,SAAS,CAAE,EAA3C,CADmC,CAEnC,UAA0F,IAAzFC,MAAyF,2DAAlER,mBAAkE,IAA7CS,OAA6C,2CACxF,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKlB,YAAW,CAACC,gBAAjB,CAAmC,CACjC,sCACKe,KADL,MAEEP,SAAS,CAAE,EAFb,CAGEC,OAAO,CAAE,IAHX,GAKD,CACD,IAAKV,YAAW,CAACI,gBAAjB,CAAmC,CACjC,sCACKY,KADL,MAEEL,SAAS,CAAE,EAFb,GAID,CACD,IAAKX,YAAW,CAACK,sBAAjB,CAAyC,qBACvC,sCACKW,KADL,MAEEL,SAAS,CAAE,kBAAAM,MAAM,CAACE,OAAP,0DAAgBR,SAAhB,GAA6B,EAF1C,GAID,CACD,IAAKX,YAAW,CAACM,aAAjB,CAAgC,CAC9B,sCACKU,KADL,MAEEJ,OAAO,CAAE,EAFX,GAID,CACD,IAAKZ,YAAW,CAACO,mBAAjB,CAAsC,sBACpC,sCACKS,KADL,MAEEJ,OAAO,CAAE,mBAAAK,MAAM,CAACE,OAAP,4DAAgBP,OAAhB,GAA2B,EAFtC,GAID,CACD,IAAKZ,YAAW,CAACE,oBAAjB,CAAuC,sBACrC,sCACKc,KADL,MAEEP,SAAS,CAAE,mBAAAQ,MAAM,CAACE,OAAP,4DAAgBV,SAAhB,GAA6B,EAF1C,CAGEC,OAAO,CAAE,KAHX,GAKD,CACD,IAAKV,YAAW,CAACG,iBAAjB,CAAoC,CAClC,sCACKa,KADL,MAEEP,SAAS,CAAE,EAFb,CAGEC,OAAO,CAAE,KAHX,GAKD,CACD,QACE,MAAOM,MAAP,CA/CJ,CAiDD,CApDkC,CAA9B,CAuDP,MAAO,IAAMI,QAAO,CAAG,CACrBC,gBAAgB,CAAE,0BAACC,OAAD,QAAsB,CAAEJ,IAAI,CAAElB,WAAW,CAACC,gBAApB,CAAsCkB,OAAO,CAAE,CAAEG,OAAO,CAAPA,OAAF,CAA/C,CAAtB,EADG,CAErBC,gBAAgB,CAAE,0BAACd,SAAD,QAAgC,CAAES,IAAI,CAAElB,WAAW,CAACE,oBAApB,CAA0CiB,OAAO,CAAE,CAAEV,SAAS,CAATA,SAAF,CAAnD,CAAhC,EAFG,CAGrBe,gBAAgB,CAAE,0BAACC,OAAD,QAAsB,CAAEP,IAAI,CAAElB,WAAW,CAACG,iBAApB,CAAuCgB,OAAO,CAAE,CAAEM,OAAO,CAAPA,OAAF,CAAhD,CAAtB,EAHG,CAIrBC,gBAAgB,CAAE,kCAAO,CAAER,IAAI,CAAElB,WAAW,CAACI,gBAApB,CAAP,EAJG,CAKrBuB,gBAAgB,CAAE,0BAAChB,SAAD,QAAiC,CAAEO,IAAI,CAAElB,WAAW,CAACK,sBAApB,CAA4Cc,OAAO,CAAE,CAAER,SAAS,CAATA,SAAF,CAArD,CAAjC,EALG,CAMrBiB,cAAc,CAAE,gCAAO,CAAEV,IAAI,CAAElB,WAAW,CAACM,aAApB,CAAP,EANK,CAOrBuB,cAAc,CAAE,wBAACjB,OAAD,QAAoC,CAAEM,IAAI,CAAElB,WAAW,CAACO,mBAApB,CAAyCY,OAAO,CAAE,CAAEP,OAAO,CAAPA,OAAF,CAAlD,CAApC,EAPK,CAAhB,CAUP,MAAO,SAAUpB,KAAV,sIACL,MAAMI,WAAU,CAACI,WAAW,CAACC,gBAAb,yCAA+B,QAAU6B,cAAV,CAAwBC,KAAxB,oKACtB,MAAMlC,QAAO,EAAb,CADsB,oCAChCmC,MADgC,gBACtCC,IADsC,CAE7CC,OAAO,CAACC,GAAR,CAAYH,MAAZ,EAF6C,gBAG7C,MAAMrC,IAAG,CAACyB,OAAO,CAACG,gBAAR,CAAyBS,MAAM,CAACvB,SAAhC,CAAD,CAAT,CAH6C,4CAAUqB,aAAV,GAA/B,EAAhB,CADK,wBAML,MAAMlC,WAAU,CAACI,WAAW,CAACI,gBAAb,yCAA+B,QAAU0B,cAAV,CAAwBC,KAAxB,4KACtB,MAAMjC,YAAW,EAAjB,CADsB,yCAChCkC,MADgC,oBACtCC,IADsC,CAE7CC,OAAO,CAACC,GAAR,CAAYH,MAAZ,EAF6C,iBAG7C,MAAMrC,IAAG,CAACyB,OAAO,CAACO,gBAAR,CAAyBK,MAAM,CAACrB,SAAhC,CAAD,CAAT,CAH6C,6CAAUmB,aAAV,GAA/B,EAAhB,CANK,wBAWL,MAAMlC,WAAU,CAACI,WAAW,CAACM,aAAb,yCAA4B,QAAUwB,cAAV,CAAwBC,KAAxB,2KACnB,MAAMhC,WAAU,EAAhB,CADmB,wCAC7BiC,MAD6B,mBACnCC,IADmC,CAE1CC,OAAO,CAACC,GAAR,CAAYH,MAAZ,EAF0C,iBAG1C,MAAMrC,IAAG,CAACyB,OAAO,CAACS,cAAR,CAAuBG,MAAM,CAACpB,OAA9B,CAAD,CAAT,CAH0C,6CAAUkB,aAAV,GAA5B,EAAhB,CAXK"},"metadata":{},"sourceType":"module"}