{"ast":null,"code":"import { persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { put, takeLatest } from 'redux-saga/effects';\nimport { getList, getComputer, getStatics } from './AccountCRUD';\nexport const actionTypes = {\n  RequestHistories: '[Histories] Requested',\n  HistoryLoadedSuccess: '[Histories] Loaded succcess',\n  HistoryLoadedFail: '[Histories] load fail',\n  RequestComputers: '[Computers] Requested',\n  ComputersLoadedSuccess: '[Computers] Loaded succcess',\n  RequestStatic: '[Static] Requested',\n  RequestProxy: '[Proxy] Requested',\n  StaticLoadedSuccess: '[Static] Loaded succcess'\n};\nconst initialAccountState = {\n  histories: [],\n  loading: false,\n  computers: [],\n  statics: [],\n  Proxies: []\n};\nexport const reducer = persistReducer({\n  storage,\n  key: 'v1-histories',\n  whitelist: []\n}, function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialAccountState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.RequestHistories:\n      {\n        return { ...state,\n          histories: [],\n          loading: true\n        };\n      }\n\n    case actionTypes.RequestComputers:\n      {\n        return { ...state,\n          computers: []\n        };\n      }\n\n    case actionTypes.ComputersLoadedSuccess:\n      {\n        var _action$payload;\n\n        return { ...state,\n          computers: ((_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.computers) || []\n        };\n      }\n\n    case actionTypes.RequestStatic:\n      {\n        return { ...state,\n          statics: []\n        };\n      }\n\n    case actionTypes.StaticLoadedSuccess:\n      {\n        var _action$payload2;\n\n        return { ...state,\n          statics: ((_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : _action$payload2.statics) || []\n        };\n      }\n\n    case actionTypes.HistoryLoadedSuccess:\n      {\n        var _action$payload3;\n\n        return { ...state,\n          histories: ((_action$payload3 = action.payload) === null || _action$payload3 === void 0 ? void 0 : _action$payload3.histories) || [],\n          loading: false\n        };\n      }\n\n    case actionTypes.HistoryLoadedFail:\n      {\n        return { ...state,\n          histories: [],\n          loading: false\n        };\n      }\n\n    default:\n      return state;\n  }\n});\nexport const actions = {\n  requestHistories: user_id => ({\n    type: actionTypes.RequestHistories,\n    payload: {\n      user_id\n    }\n  }),\n  fulfillHistories: histories => ({\n    type: actionTypes.HistoryLoadedSuccess,\n    payload: {\n      histories\n    }\n  }),\n  loadAccountsFail: message => ({\n    type: actionTypes.HistoryLoadedFail,\n    payload: {\n      message\n    }\n  }),\n  requestComputers: () => ({\n    type: actionTypes.RequestComputers\n  }),\n  fulfillComputers: computers => ({\n    type: actionTypes.ComputersLoadedSuccess,\n    payload: {\n      computers\n    }\n  }),\n  requestStatics: user => ({\n    type: actionTypes.RequestStatic,\n    payload: {\n      user\n    }\n  }),\n  fulfillStatics: statics => ({\n    type: actionTypes.StaticLoadedSuccess,\n    payload: {\n      statics\n    }\n  })\n};\nexport function* saga() {\n  yield takeLatest(actionTypes.RequestHistories, function* userRequested(param) {\n    const {\n      data: resutl\n    } = yield getList();\n    console.log(resutl);\n    yield put(actions.fulfillHistories(resutl.histories));\n  });\n  yield takeLatest(actionTypes.RequestComputers, function* userRequested(param) {\n    const {\n      data: resutl\n    } = yield getComputer();\n    console.log(resutl);\n    yield put(actions.fulfillComputers(resutl.computers));\n  });\n  yield takeLatest(actionTypes.RequestStatic, function* userRequested(param) {\n    const payload = param.payload.user;\n    const {\n      data: resutl\n    } = yield getStatics(payload);\n    console.log(resutl);\n    yield put(actions.fulfillStatics(resutl.time7day));\n  });\n}","map":{"version":3,"names":["persistReducer","storage","put","takeLatest","getList","getComputer","getStatics","actionTypes","RequestHistories","HistoryLoadedSuccess","HistoryLoadedFail","RequestComputers","ComputersLoadedSuccess","RequestStatic","RequestProxy","StaticLoadedSuccess","initialAccountState","histories","loading","computers","statics","Proxies","reducer","key","whitelist","state","action","type","payload","actions","requestHistories","user_id","fulfillHistories","loadAccountsFail","message","requestComputers","fulfillComputers","requestStatics","user","fulfillStatics","saga","userRequested","param","data","resutl","console","log","time7day"],"sources":["C:/Users/KT2/OneDrive/Documents/Buffh/ssc.fe.cheatview-main/src/app/modules/history/redux/AccountRedux.ts"],"sourcesContent":["import { Action } from '@reduxjs/toolkit'\nimport { persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport { put, takeLatest } from 'redux-saga/effects'\nimport {ComputerModel, HistoryModel, ChannelStaticModel, ProxyModel} from '../models/Account'\nimport { getList,getComputer,getStatics} from './AccountCRUD'\nexport interface ActionWithPayload<T> extends Action {\n  payload?: T\n}\n\nexport const actionTypes = {\n  RequestHistories: '[Histories] Requested',\n  HistoryLoadedSuccess: '[Histories] Loaded succcess',\n  HistoryLoadedFail: '[Histories] load fail',\n  RequestComputers: '[Computers] Requested',\n  ComputersLoadedSuccess: '[Computers] Loaded succcess',\n  RequestStatic: '[Static] Requested',\n  RequestProxy: '[Proxy] Requested',\n  StaticLoadedSuccess: '[Static] Loaded succcess',\n}\n\n\nconst initialAccountState: IAccountState = {\n  histories: [],\n  loading: false,\n  computers:[],\n  statics:[],\n  Proxies:[]\n}\n\nexport interface IAccountState {\n  histories: HistoryModel[]\n  loading: boolean\n  computers : ComputerModel[],\n  statics : ChannelStaticModel[]\n  Proxies:ProxyModel[]\n}\n\nexport const reducer = persistReducer(\n  { storage, key: 'v1-histories', whitelist: [] },\n  (state: IAccountState = initialAccountState, action: ActionWithPayload<IAccountState>) => {\n    switch (action.type) {\n      case actionTypes.RequestHistories: {\n        return {\n          ...state,\n          histories: [],\n          loading: true\n        }\n      }\n      case actionTypes.RequestComputers: {\n        return {\n          ...state,\n          computers: []\n        }\n      }\n      case actionTypes.ComputersLoadedSuccess: {\n        return {\n          ...state,\n          computers: action.payload?.computers || [],\n        }\n      }\n      case actionTypes.RequestStatic: {\n        return {\n          ...state,\n          statics: []\n        }\n      }\n      case actionTypes.StaticLoadedSuccess: {\n        return {\n          ...state,\n          statics: action.payload?.statics || [],\n        }\n      }\n      case actionTypes.HistoryLoadedSuccess: {\n        return {\n          ...state,\n          histories: action.payload?.histories || [],\n          loading: false\n        }\n      }\n      case actionTypes.HistoryLoadedFail: {\n        return {\n          ...state,\n          histories: [],\n          loading: false\n        }\n      }\n      default:\n        return state\n    }\n  }\n)\n\nexport const actions = {\n  requestHistories: (user_id: number) => ({ type: actionTypes.RequestHistories, payload: { user_id } }),\n  fulfillHistories: (histories: HistoryModel[]) => ({ type: actionTypes.HistoryLoadedSuccess, payload: { histories } }),\n  loadAccountsFail: (message: string) => ({ type: actionTypes.HistoryLoadedFail, payload: { message } }),\n  requestComputers: () => ({ type: actionTypes.RequestComputers}),\n  fulfillComputers: (computers: ComputerModel[]) => ({ type: actionTypes.ComputersLoadedSuccess, payload: { computers } }),\n  requestStatics: (user:string) => ({ type: actionTypes.RequestStatic,payload:{user}}),\n  fulfillStatics: (statics: ChannelStaticModel[]) => ({ type: actionTypes.StaticLoadedSuccess, payload: { statics } }),\n}\n\nexport function* saga() {\n  yield takeLatest(actionTypes.RequestHistories, function* userRequested(param: any) {\n    const {data: resutl} = yield getList()\n    console.log(resutl)\n    yield put(actions.fulfillHistories(resutl.histories))\n  })\n  yield takeLatest(actionTypes.RequestComputers, function* userRequested(param: any) {\n    const {data: resutl} = yield getComputer()\n    console.log(resutl)\n    yield put(actions.fulfillComputers(resutl.computers))\n  })\n  yield takeLatest(actionTypes.RequestStatic, function* userRequested(param: any) {\n    const payload = param.payload.user\n    const {data: resutl} = yield getStatics(payload)\n    console.log(resutl)\n    yield put(actions.fulfillStatics(resutl.time7day))\n  })\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}