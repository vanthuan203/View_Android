{"ast":null,"code":"import _slicedToArray from\"C:/Users/KT2/Desktop/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{OrderList}from'./OrderList';import{useDispatch,useSelector,shallowEqual}from'react-redux';import{actions}from'./redux/OrdersRedux';import EditModal from'./modals/EditModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WidgetsPage=function WidgetsPage(){var dispatch=useDispatch();var orders=useSelector(function(_ref){var orders=_ref.orders;return orders.orders;},shallowEqual)||[];var channel_prior=useSelector(function(_ref2){var orders=_ref2.orders;return orders.channel_prior;},shallowEqual)||0;var _useState=useState(channel_prior),_useState2=_slicedToArray(_useState,2),channelPrior=_useState2[0],setChannelPrior=_useState2[1];var currentOrder=useSelector(function(_ref3){var orders=_ref3.orders;return orders.currentOrder;},shallowEqual)||undefined;useEffect(function(){//dispatch(actions.requestSetting())\ndispatch(actions.requestGroups());dispatch(actions.requestOrders());},[]);useEffect(function(){setChannelPrior(channel_prior);},[channel_prior]);var updateSetting=function updateSetting(){dispatch(actions.requestUpdateSetting(channelPrior));};var requestRemoveError=function requestRemoveError(){dispatch(actions.requestRemoveError());};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card card-custom mb-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Title\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-toolbar\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:requestRemoveError,type:\"button\",className:\"btn btn-sm btn-warning mr-5\",children:\"X\\xF3a lu\\u1ED3ng l\\u1ED7i\"}),/*#__PURE__*/_jsx(\"button\",{onClick:updateSetting,type:\"button\",className:\"btn btn-sm btn-primary\",children:\"C\\u1EADp nh\\u1EADt lu\\u1ED3ng \\u01B0u ti\\xEAn\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"required form-label\",children:\"C\\xE0i \\u0111\\u1EB7t s\\u1ED1 lu\\u1ED3ng \\u01B0u ti\\xEAn\"}),/*#__PURE__*/_jsx(\"input\",{value:channelPrior,onChange:function onChange(evt){return setChannelPrior(parseInt(evt.target.value));},type:\"number\",className:\"form-control form-control-solid\",placeholder:\"Nh\\u1EADp s\\u1ED1 lu\\u1ED3ng \\u01B0u ti\\xEAn\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row gy-5 gx-xl-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12\",children:/*#__PURE__*/_jsx(OrderList,{orders:orders,className:\"card-xxl-stretch mb-5 mb-xl-12\"})})}),currentOrder&&/*#__PURE__*/_jsx(EditModal,{item:currentOrder},currentOrder===null||currentOrder===void 0?void 0:currentOrder.channel_id)]});};export default WidgetsPage;","map":{"version":3,"names":["React","useEffect","useState","OrderList","useDispatch","useSelector","shallowEqual","actions","EditModal","WidgetsPage","dispatch","orders","channel_prior","channelPrior","setChannelPrior","currentOrder","undefined","requestGroups","requestOrders","updateSetting","requestUpdateSetting","requestRemoveError","evt","parseInt","target","value","channel_id"],"sources":["C:/Users/KT2/Desktop/ssc.fe.cheatview-main/src/app/modules/orders/OrdersPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { OrderList } from './OrderList'\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux'\nimport { OrderModel } from './models/Order'\nimport { RootState } from 'setup'\nimport { actions } from './redux/OrdersRedux'\nimport EditModal from './modals/EditModal'\n\nconst WidgetsPage: React.FC = () => {\n\n  const dispatch = useDispatch()\n  const orders: OrderModel[] = useSelector<RootState>(({ orders }) => orders.orders, shallowEqual) as OrderModel[] || []\n  const channel_prior: number = useSelector<RootState>(({ orders }) => orders.channel_prior, shallowEqual) as number || 0\n  const [channelPrior,setChannelPrior] =useState(channel_prior)\n  const currentOrder: OrderModel = useSelector<RootState>(({ orders }) => orders.currentOrder, shallowEqual) as OrderModel || undefined\n  useEffect(() => {\n    //dispatch(actions.requestSetting())\n    dispatch(actions.requestGroups())\n    dispatch(actions.requestOrders())\n  }, [])\n\n  useEffect(() => {\n    setChannelPrior(channel_prior)\n  }, [channel_prior])\n\n  const updateSetting = () => {\n    dispatch(actions.requestUpdateSetting(channelPrior))\n  }\n\n  const requestRemoveError=()=>{\n    dispatch(actions.requestRemoveError())\n  \n  }\n\n  \n\n\n  return (\n    <>\n      <div className=\"card card-custom mb-10\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">Title</h3>\n          <div className=\"card-toolbar\">\n            <button onClick={requestRemoveError} type=\"button\" className=\"btn btn-sm btn-warning mr-5\">\n              Xóa luồng lỗi\n            </button>\n            <button onClick={updateSetting} type=\"button\" className=\"btn btn-sm btn-primary\">\n              Cập nhật luồng ưu tiên\n            </button>\n          </div>\n        </div>\n        <div className=\"card-body\">\n          <label className=\"required form-label\">Cài đặt số luồng ưu tiên</label>\n          <input value={channelPrior} onChange={(evt)=>setChannelPrior(parseInt(evt.target.value))}  type=\"number\" className=\"form-control form-control-solid\" placeholder=\"Nhập số luồng ưu tiên\" />\n        </div>\n      </div>\n      <div className='row gy-5 gx-xl-12'>\n        <div className='col-xl-12'>\n          <OrderList orders={orders} className='card-xxl-stretch mb-5 mb-xl-12' />\n        </div>\n      </div>\n      {\n        currentOrder && <EditModal key={currentOrder?.channel_id} item={currentOrder}  />\n      }\n    </>\n  )\n}\n\nexport default WidgetsPage\n"],"mappings":"gIAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,OAASC,WAAT,CAAsBC,WAAtB,CAAmCC,YAAnC,KAAuD,aAAvD,CAGA,OAASC,OAAT,KAAwB,qBAAxB,CACA,MAAOC,UAAP,KAAsB,oBAAtB,C,6IAEA,GAAMC,YAAqB,CAAG,QAAxBA,YAAwB,EAAM,CAElC,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,OAAoB,CAAGN,WAAW,CAAY,kBAAGM,OAAH,MAAGA,MAAH,OAAgBA,OAAM,CAACA,MAAvB,EAAZ,CAA2CL,YAA3C,CAAX,EAAuF,EAApH,CACA,GAAMM,cAAqB,CAAGP,WAAW,CAAY,mBAAGM,OAAH,OAAGA,MAAH,OAAgBA,OAAM,CAACC,aAAvB,EAAZ,CAAkDN,YAAlD,CAAX,EAAwF,CAAtH,CACA,cAAsCJ,QAAQ,CAACU,aAAD,CAA9C,wCAAOC,YAAP,eAAoBC,eAApB,eACA,GAAMC,aAAwB,CAAGV,WAAW,CAAY,mBAAGM,OAAH,OAAGA,MAAH,OAAgBA,OAAM,CAACI,YAAvB,EAAZ,CAAiDT,YAAjD,CAAX,EAA2FU,SAA5H,CACAf,SAAS,CAAC,UAAM,CACd;AACAS,QAAQ,CAACH,OAAO,CAACU,aAAR,EAAD,CAAR,CACAP,QAAQ,CAACH,OAAO,CAACW,aAAR,EAAD,CAAR,CACD,CAJQ,CAIN,EAJM,CAAT,CAMAjB,SAAS,CAAC,UAAM,CACda,eAAe,CAACF,aAAD,CAAf,CACD,CAFQ,CAEN,CAACA,aAAD,CAFM,CAAT,CAIA,GAAMO,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAC1BT,QAAQ,CAACH,OAAO,CAACa,oBAAR,CAA6BP,YAA7B,CAAD,CAAR,CACD,CAFD,CAIA,GAAMQ,mBAAkB,CAAC,QAAnBA,mBAAmB,EAAI,CAC3BX,QAAQ,CAACH,OAAO,CAACc,kBAAR,EAAD,CAAR,CAED,CAHD,CAQA,mBACE,wCACE,aAAK,SAAS,CAAC,wBAAf,wBACE,aAAK,SAAS,CAAC,aAAf,wBACE,WAAI,SAAS,CAAC,YAAd,mBADF,cAEE,aAAK,SAAS,CAAC,cAAf,wBACE,eAAQ,OAAO,CAAEA,kBAAjB,CAAqC,IAAI,CAAC,QAA1C,CAAmD,SAAS,CAAC,6BAA7D,wCADF,cAIE,eAAQ,OAAO,CAAEF,aAAjB,CAAgC,IAAI,CAAC,QAArC,CAA8C,SAAS,CAAC,wBAAxD,2DAJF,GAFF,GADF,cAYE,aAAK,SAAS,CAAC,WAAf,wBACE,cAAO,SAAS,CAAC,qBAAjB,qEADF,cAEE,cAAO,KAAK,CAAEN,YAAd,CAA4B,QAAQ,CAAE,kBAACS,GAAD,QAAOR,gBAAe,CAACS,QAAQ,CAACD,GAAG,CAACE,MAAJ,CAAWC,KAAZ,CAAT,CAAtB,EAAtC,CAA2F,IAAI,CAAC,QAAhG,CAAyG,SAAS,CAAC,iCAAnH,CAAqJ,WAAW,CAAC,8CAAjK,EAFF,GAZF,GADF,cAkBE,YAAK,SAAS,CAAC,mBAAf,uBACE,YAAK,SAAS,CAAC,WAAf,uBACE,KAAC,SAAD,EAAW,MAAM,CAAEd,MAAnB,CAA2B,SAAS,CAAC,gCAArC,EADF,EADF,EAlBF,CAwBII,YAAY,eAAI,KAAC,SAAD,EAA0C,IAAI,CAAEA,YAAhD,EAAgBA,YAAhB,SAAgBA,YAAhB,iBAAgBA,YAAY,CAAEW,UAA9B,CAxBpB,GADF,CA6BD,CA1DD,CA4DA,cAAejB,YAAf"},"metadata":{},"sourceType":"module"}