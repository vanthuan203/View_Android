{"ast":null,"code":"import _classCallCheck from\"C:/Users/KT2/Desktop/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/KT2/Desktop/ssc.fe.cheatview-main/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{DataUtil}from'./_DataUtil';import{getUniqueIdWithPrefix}from'./_TypesHelpers';export var EventHandlerUtil=/*#__PURE__*/function(){function EventHandlerUtil(){_classCallCheck(this,EventHandlerUtil);}_createClass(EventHandlerUtil,null,[{key:\"setEventMetasByName\",value:function setEventMetasByName(name,metas){EventHandlerUtil.store.set(name,metas);}},{key:\"getEventMetasByName\",value:function getEventMetasByName(name){return EventHandlerUtil.store.get(name);}},{key:\"setEventMetaByNameAndHandlerId\",value:function setEventMetaByNameAndHandlerId(name,handlerId,meta){var metas=EventHandlerUtil.getEventMetasByName(name);if(!metas){metas=new Map();}metas.set(handlerId,meta);EventHandlerUtil.setEventMetasByName(name,metas);}},{key:\"getEventsMetaByHandlerId\",value:function getEventsMetaByHandlerId(name,handlerId){var metas=EventHandlerUtil.store.get(name);if(!metas){return;}return metas.get(handlerId);}},{key:\"setFiredByNameAndHandlerId\",value:function setFiredByNameAndHandlerId(name,handerId,fired){var meta=EventHandlerUtil.getEventsMetaByHandlerId(name,handerId);if(!meta){return;}meta.fired=fired;EventHandlerUtil.setEventMetaByNameAndHandlerId(name,handerId,meta);}},{key:\"addEvent\",value:function addEvent(element,name,callback){var one=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var handlerId=getUniqueIdWithPrefix('event');DataUtil.set(element,name,handlerId);var meta={name:name,callback:callback,one:one,fired:false};EventHandlerUtil.setEventMetaByNameAndHandlerId(name,handlerId,meta);}},{key:\"removeEvent\",value:function removeEvent(element,name){var handlerId=DataUtil.get(element,name);if(!handlerId){return;}var metas=EventHandlerUtil.getEventMetasByName(name);if(!metas){return;}metas.delete(handlerId);EventHandlerUtil.setEventMetasByName(name,metas);}},{key:\"trigger\",value:function trigger(element,name,target,e){if(DataUtil.has(element,name)){var handlerId=DataUtil.get(element,name);if(!handlerId){return undefined;}var handler=EventHandlerUtil.getEventsMetaByHandlerId(name,handlerId);if(handler){if(handler.name===name){if(handler.one===true){if(handler.fired===false){EventHandlerUtil.setFiredByNameAndHandlerId(name,handlerId,true);return handler.callback.call(this,target,e);}}else{return handler.callback.call(this,target,e);}}}}return null;}},{key:\"one\",value:function one(element,name,callBack){EventHandlerUtil.addEvent(element,name,callBack,true);}},{key:\"off\",value:function off(element,name){EventHandlerUtil.removeEvent(element,name);}}]);return EventHandlerUtil;}();EventHandlerUtil.store=new Map();EventHandlerUtil.on=function(element,name,callBack){EventHandlerUtil.addEvent(element,name,callBack,false);};","map":{"version":3,"names":["DataUtil","getUniqueIdWithPrefix","EventHandlerUtil","name","metas","store","set","get","handlerId","meta","getEventMetasByName","Map","setEventMetasByName","handerId","fired","getEventsMetaByHandlerId","setEventMetaByNameAndHandlerId","element","callback","one","delete","target","e","has","undefined","handler","setFiredByNameAndHandlerId","call","callBack","addEvent","removeEvent","on"],"sources":["C:/Users/KT2/Desktop/ssc.fe.cheatview-main/src/_metronic/assets/ts/_utils/EventHandlerUtil.ts"],"sourcesContent":["import {DataUtil} from './_DataUtil'\nimport {getUniqueIdWithPrefix} from './_TypesHelpers'\n\nexport interface EventMeta {\n  name: string\n  callback: Function\n  one: boolean\n  fired: boolean\n}\n\nexport class EventHandlerUtil {\n  static store: Map<string, Map<string, EventMeta>> = new Map()\n\n  private static setEventMetasByName(name: string, metas: Map<string, EventMeta>): void {\n    EventHandlerUtil.store.set(name, metas)\n  }\n\n  private static getEventMetasByName(name: string): Map<string, EventMeta> | undefined {\n    return EventHandlerUtil.store.get(name)\n  }\n\n  private static setEventMetaByNameAndHandlerId(\n    name: string,\n    handlerId: string,\n    meta: EventMeta\n  ): void {\n    let metas = EventHandlerUtil.getEventMetasByName(name)\n    if (!metas) {\n      metas = new Map()\n    }\n\n    metas.set(handlerId, meta)\n    EventHandlerUtil.setEventMetasByName(name, metas)\n  }\n\n  private static getEventsMetaByHandlerId(name: string, handlerId: string): EventMeta | undefined {\n    const metas = EventHandlerUtil.store.get(name)\n    if (!metas) {\n      return\n    }\n\n    return metas.get(handlerId)\n  }\n\n  private static setFiredByNameAndHandlerId(name: string, handerId: string, fired: boolean): void {\n    const meta = EventHandlerUtil.getEventsMetaByHandlerId(name, handerId)\n    if (!meta) {\n      return\n    }\n\n    meta.fired = fired\n    EventHandlerUtil.setEventMetaByNameAndHandlerId(name, handerId, meta)\n  }\n\n  private static addEvent(\n    element: HTMLElement,\n    name: string,\n    callback: Function,\n    one: boolean = false\n  ) {\n    const handlerId = getUniqueIdWithPrefix('event')\n    DataUtil.set(element, name, handlerId)\n    const meta: EventMeta = {\n      name: name,\n      callback: callback,\n      one: one,\n      fired: false,\n    }\n\n    EventHandlerUtil.setEventMetaByNameAndHandlerId(name, handlerId, meta)\n  }\n\n  private static removeEvent(element: HTMLElement, name: string) {\n    const handlerId = DataUtil.get(element, name)\n    if (!handlerId) {\n      return\n    }\n\n    const metas = EventHandlerUtil.getEventMetasByName(name)\n    if (!metas) {\n      return\n    }\n\n    metas.delete(handlerId)\n    EventHandlerUtil.setEventMetasByName(name, metas)\n  }\n\n  public static trigger(element: HTMLElement, name: string, target?: any, e?: Event) {\n    if (DataUtil.has(element, name)) {\n      const handlerId = DataUtil.get(element, name)\n      if (!handlerId) {\n        return undefined\n      }\n\n      const handler = EventHandlerUtil.getEventsMetaByHandlerId(name, handlerId)\n      if (handler) {\n        if (handler.name === name) {\n          if (handler.one === true) {\n            if (handler.fired === false) {\n              EventHandlerUtil.setFiredByNameAndHandlerId(name, handlerId, true)\n              return handler.callback.call(this, target, e)\n            }\n          } else {\n            return handler.callback.call(this, target, e)\n          }\n        }\n      }\n    }\n\n    return null\n  }\n\n  public static on = function (element: HTMLElement, name: string, callBack: Function): void {\n    EventHandlerUtil.addEvent(element, name, callBack, false)\n  }\n\n  public static one(element: HTMLElement, name: string, callBack: Function): void {\n    EventHandlerUtil.addEvent(element, name, callBack, true)\n  }\n\n  public static off(element: HTMLElement, name: string): void {\n    EventHandlerUtil.removeEvent(element, name)\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}